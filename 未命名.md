1.轻节点和全节点作用的区别？

为什么 “在比特币网络中，大多数节点都是轻节点。如果只是想进⾏转账操作，不需要挖矿，就无需运⾏一个全节点。”





2.女巫攻击



3.花两次攻击





4.拥有51%的算力：

1.分叉攻击

​	对已经经过6次确认的交易分叉，利⽤51%算⼒将交易记录回滚。

2.封锁交易（Boycott）
	假如攻击者不喜欢某个账户，不想让A的交易上区块链，在监听到有其他人将A的交易发布到区块链上时，立刻发动分叉攻击，使A所在链无法成为”最长合法链“。这样，便实现了对A账户的封锁。

3.盗币（将他人账户BTC转走）
	这个是**不可能**的，因为其并没有他人账户私钥。如果依仗算⼒强，强⾏将没有签名的转账发布到区块
链，正常节点不会认为其合法，这样，即使这条链再长，其他人也不会认为其是最长合法链。













### **以太坊是什么？如何理解？**

**以太坊是目前使用最广泛的支持完备应用开发的公有区块链系统。与比特币相比，以太坊属于区块链 2.0 的范畴，是为了解决比特币网络的一些问题而重新设计的一个区块链系统。**

首先，**它是一个通用的全球性区块链**，也就是说它属于公有链，这一点与比特币是一样的，并且可以用来管理金融和非金融类型的应用。同时，**以太坊也是一个平台和编程语言，包括数字货币以太币（Ether）以及用来构建和发布分布式应用的以太脚本，也就是智能合约编程语言。**

![img](https://pic2.zhimg.com/v2-224509b8b3e2e29d5d8508378decd639_b.jpg)

  而通过智能合约的设计开发，以太坊可以实现各种商业与非商业环境下的复杂逻辑，如众筹系统、数字货币、融资租赁资产管理、多重签名的安全账户、供应链的追踪监控等。通过智能合约的应用，可以将传统的软件系统链化，发挥出更强大的管理能力，相当于隐藏了底层技术的复杂性而让应用开发者更多地专注在应用逻辑及商业逻辑上。

以太坊的模块结构与比特币其实并没有本质的差别，还是那些物件，如区块链账本、共识机制、核心节点、P2P 网络、可编程逻辑等，而本质的特点是智能合约的全面实现，支持了全新的合约编程语言，以及为了运行合约增加了一个以太坊虚拟机。因此我们在理解以太坊的时候，基本上可以参照比特币的结构思路。如果说比特币是利用区块链技术开发的专用计算器，那么以太坊就是利用区块链技术开发的通用计算机。  

**简单地说，以太坊 = 区块链 + 智能合约。**从平台的角度来讲，以太坊类似于苹果的应用商店；从技术角度来讲，以太坊类似于一个区块链操作系统。
我们来看一下以太坊的组成结构：

![img](https://pic3.zhimg.com/v2-9bda0efbe9e29b9a91d47ba515eeba06_b.jpg)

以太坊中的智能合约是运行在虚拟机上的，也就是通常说的 EVM（Ethereum Virtual Machine，以太坊虚拟机）。这是一个智能合约的沙盒，合约存储在以太坊的区块链上，并被编译为以太坊虚拟机字节码，通过虚拟机来运行智能合约。由于这个中间层的存在，以太坊也实现了多种语言的合约代码编译，网络中的每个以太坊节点运行 EVM 实现并执行相同的指令。如果说比特币是二维世界的话，那么以太坊就是三维世界，可以实现无数个不同的二维世界。（以太坊的源码是维护在 GitHub 上的： [https://github.com/ethereum](https://link.zhihu.com/?target=https%3A//github.com/ethereum)）

那么以太币是什么呢？其实和比特币一样，以太币就是以太坊内置的数字货币。在以太坊中，**交易的概念是比较广义的，**因为以太坊并不仅仅支持转账交易这样的合约功能，它的定义如下：在以太坊中，签名的数据包中存储了从外部账户发送的消息。所谓的交易就是一个消息，而这个消息被发送者签名了。

而在以太坊的交易过程中，新增加了Price 与 GasLimit的概念，换句话说就是为了防止在代码中出现意外或有意无限循环或其他计算浪费，每个交易都需要设置一个限制，以限制它的计算总步骤，说白了就是让交易的执行带上成本，每进行一次交易都要支付一定的手续费。Gas 是通过以太坊中合约的执行计算量来决定的，这个计算量可以简单地认为是算力资源的消耗，比如执行一次 SHA3 哈希计算会消耗 20 个 Gas，执行一次普通的转账交易会需要 21000 个 Gas，诸如此类，在以太坊中只要是会消耗计算资源的步骤都有个标价。而这个手续费的最小单位是 wei，然后每 1000 个递进一个单位，如下所示：

通过以上的换算关系，我们可以发现，1ether=1000000000000000000wei，足有 18 个 0。以太坊本身内置支持了以太币，也可以从一个账户往另一个账户转账发送。

**换句话说，如果以太坊是一套完善的银行系统，那么以太币就是其中的钞票。**当然，在很多交易所上，很多人都将交易的单位也称为“以太坊”，这其实并不完全准确，但是也已经是约定俗成了。



### 硬分叉

**区块链的永久性分裂。当没有升级的节点不能验证已升级的节点基于新的共识协议所创建的区块时，硬分叉产生。**

一个概念，就是硬分叉。我们知道，所谓区块链，就是一个个的区块数据，通过区块的哈希值（相当于区块的身份证号）串联起来，如此而形成一个链条般的账本数据。

![img](https://pic4.zhimg.com/v2-c0565907448b65d9d3d5c00dd889147f_b.jpg)

假设在区块增长到 2 号的时候，此时软件升级了，增加了之前版本中不能识别的一些数据结构，会发生什么？在传统的中心化软件体系中，似乎并没有什么问题，这是因为这些中心化的系统，数据存储都是集中的，版本管理也是集中的，如果是重大的升级，完全可以设置为若不更新到最新版就不能进行登录操作，从而确保用户使用的总是正确的版本。

然而区块链先天是去中心的使用方式，一旦有新的软件版本发布后，是不是每个人都会去升级到新版本是很难控制的，这就可能导致如下图所示的问题：在 2 号区块生成的时候发布了新的版本，且新的版本增加了之前版本不能识别的数据结构，此时部分用户升级了新版，部分用户还没有升级，这些新旧版本的软件仍然在各自不停的挖矿、验证、打包区块，一段时间过后就会变成这样：

![img](https://pic1.zhimg.com/v2-4b97466e1f87229c6655c38f1fcf2168_b.jpg)

那什么是硬分叉呢？当版本变动没达到某个程度，老版本的节点就还可以认识新版本的节点，这叫软分叉；而反之，当老版本的节点已经没办法认识分叉后新出现的节点，那么这就是一次硬分叉了。硬分叉的结果就是走出两条链，各自分道扬镳，当然，最近大家热衷的“分糖果”也是由此而来的。
一个事件，是什么呢？这件事情就是2016年6月的TheDAS被攻击事件。区块链业界最大的众筹项目TheDAO遭到黑客攻击,导致300多万以太币资产被分离出TheDAO 资产池，如果按照今天的数据，那么大概相当于20亿美元。
要知道，数字货币是匿名性质的。银行丢了20亿美元现金，想找回来的可能性几乎是100%，可在区块链世界里就是大海捞针。所以这个时候，以太坊的创始人V神出来说话了：这个事情，我知道了，要不我们就都别算了，**直接来个软分叉，重新算账。从块高度1760000开始把任何与 The DAO和child DAO相关的交易认做无效交易，不就解决了吗？**

是把





### 关于 ETH Merge、ETC 迁徙的技术细节和背后原因

https://web3caff.com/zh/archives/24566



Eth 从 POW 到 POS 的转变是不是一种升级呢？